# Практическое задание №2

## Работа с медиа, апи, разметкой. Фильтры; файлы.

### Описание задания

#### Отправка картинок

- Добавьте в `config.py` ссылку на картинку. Для наглядности добавьте картинку с прозрачностью (ищите картинки `png`). Например, это может быть картинка с котом;
- Добавьте в `main` обработку команды, назовите команду в соответствии с картинкой, в случае с котом команда будет `/cat`. В ответ на команду отправляйте картинку по ссылке;
- Добавьте в `main` обработку команды `*_file`, назовите команду в соответствии с картинкой, в случае с котом это будет `/cat_file`. В ответ на команду отправляйте документ по ссылке на картинку.

#### Отправка файла из памяти

- Добавьте обработку команды `/me`. В ответ отправляйте файл с информацией по пользователю, который прислал команду. Запишите данные в `StringIO`, учитывайте переносы строк и перемотку указателя на начало.
- Укажите имя файла при отправке, например `your-info.txt`;
- Добавьте подпись (caption) для документа. Текст подписи объявите в модуле `messages`.

#### Разметка

- Доработайте ответ на команду `/start`, добавьте разметку в текст ответа, примените `parse_mode`;
- Добавьте обработку команды `/md`, в ответ отправляйте сообщение, в котором показаны все типы разметки при помощи `MarkdownV2`;
- Добавьте обработку команды `/html`, в ответ отправляйте сообщение, в котором показаны все типы разметки при помощи `HTML`;
- Доработайте обработку команды `/chat_id`, добавьте в текст разметку: оберните в `code` айди, чтобы его можно было скопировать по клику.
- Также добавьте в сообщение дополнительную информацию помимо айди чата: айди отправителя, а также айди пользователя, на чьё сообщение выполнен ответ.

#### Фильтры

##### Простой фильтр

- В модуле с фильтрами объявите простой фильтр для проверки, что в сообщении переданы entities, подключите фильтр к боту;
- В основном модуле над эхо добавьте обработчик входящего сообщения, в котором есть entities;
- В ответ отправьте сообщение, в котором применена разметка исходного сообщения, а также через отступ добавлена информация по примененным типам разметки в исходном сообщении. Подсказки:
    - для применения разметки входящего сообщения можно передать `message.entities` в параметр `entities` в методе `send_message`;
    - как альтернативный вариант можно воспользоваться свойством `message.html_text`, которое вернёт сообщение с примененной html разметкой. Так вы получите текст сообщения с примененной разметкой в тексте;

##### Продвинутый фильтр

- В модуле с фильтрами объявите фильтр для проверки, что в тексте сообщений есть хотя бы одно слово из переданных. При помощи этого фильтра нужно будет ловить сообщения, в которых есть одно из перечисленных слов. Учитывайте регистр сообщения;
- В основном модуле добавьте / модифицируйте обработчик, который будет ловить сообщение с одним из значений, например: `contains_one_of_words=["пока", "до свидания"]` и отправлять ответ, например `"До новых встреч!"` (текст сообщения должен остаться в модуле `messages`)

### Ссылки
- Фреймворк pyTelegramBotAPI на GitHub: https://github.com/eternnoir/pyTelegramBotAPI/
- Примеры фильтров в pyTelegramBotAPI: https://github.com/eternnoir/pyTelegramBotAPI/tree/master/examples/custom_filters
- formatting options https://core.telegram.org/bots/api#formatting-options
- Примеры разметки в pyTelegramBotAPI: https://github.com/eternnoir/pyTelegramBotAPI/blob/master/examples/formatting_example.py
